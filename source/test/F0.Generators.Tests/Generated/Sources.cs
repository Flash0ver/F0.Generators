using F0.Text;

namespace F0.Tests.Generated;

internal static class Sources
{
	internal static readonly string FileHeader = "// <auto-generated/>" + Environment.NewLine + Environment.NewLine;

	internal static readonly string NullableFileHeader = "// <auto-generated/>" + Environment.NewLine + Environment.NewLine
		+ "#nullable enable" + Environment.NewLine + Environment.NewLine;

	internal const string SourceGenerationException = $"namespace {Names.Namespace} {{"
		+ $"internal sealed class {Names.Exception} : System.Exception {{ }}"
		+ "}";

	internal const string SourceGenerationException_String = $"namespace {Names.Namespace} {{"
		+ $"internal sealed class {Names.Exception} : System.Exception {{"
		+ $"public {Names.Exception}(string message) : base(message) {{ }}"
		+ "}}";

	internal static string GetFileHeader(LanguageVersion? languageVersion = null)
	{
		return languageVersion.GetValueOrDefault(LanguageVersion.Latest) >= LanguageVersion.CSharp8
			? NullableFileHeader
			: FileHeader;
	}
}
